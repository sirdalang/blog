# 魔塔1.12 伤害计算

[toc]

## 魔塔V1.12

魔塔V1.12，其中普通怪有攻击力和防御力两个属性英雄也有攻击力和防御力两个属性。  

KO掉一个普通怪的掉血量与上述四个属性相关。但是游戏中各个阶段能获得的加点是有限的，因此需要合理的搭配加点以达到最优。  

## 数学计算

怪的攻击力和防御力分别为$a_0$和$d_0$，  
英雄的攻击力和防御力分别为$a$和$d$。  
总共可以分配的加点数为$t$。  
有  
$a+d=t$  
假设怪的血量为$B$，则KO掉这个怪的掉血量为：  
$b=\frac{B}{a-d_0}\cdot(a_0-d)=B\cdot\frac{a_0-d}{a-d_0}$
怪的血量一定，也即只需要考虑式：  
$\theta=\frac{a_0-d}{a-d_0}$  
化简该式：  
$\theta=\frac{a_0-(t-a)}{a-d_0}=\frac{a-d_0+d_0+a_0-t}{a-d_0}$  
$=1+\frac{a_0+d_0-t}{a-d_0}$  
记$a_0+d_0=t_0$，则有  
$\theta=1+\frac{t_0-t}{a-d0}$  
由于$a-d_0>0$必然成立（否则不能对怪造成伤害），因此掉血量只与$a-d_0$有关。  
现分情况讨论，  

### （a）$t_0<t$  

也即怪的总点数小于英雄的总点数。  
此时$\theta=f(a)$为双曲线函数，位于第二、四象限，对称中心为$(d_0,1)$。  
示例：$y=1+\frac{-1}{x-2}$的函数图像  

因此，$d_0<a<=d_0+t-t_0$时，能无伤。其它情况下，有伤，且$a$越大，掉血越多。

### （b）$t_0>t$

也即怪的总点数大于英雄的总点数。  
示例：$y=1+\frac{1}{x-2}$的函数图像  

也即$a$越大，受伤越小。  
