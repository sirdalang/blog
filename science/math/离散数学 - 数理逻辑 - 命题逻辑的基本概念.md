# 离散数学

## 1 命题逻辑的基本概念

### 1.1 命题与联结词

- 非真即假的陈述句称作**命题**

> 陈述句是陈述一个事实或者说话人看法的句型。陈述句分为肯定的陈述句和否定的陈述句，简称肯定句和否定句。（摘自百度百科-陈述句）

- 作为命题的陈述句所表达的判断结果称作命题的**真值**，真值只能取两个值：**真**或**假**。真值为真的命题称为**真命题**，真值为假的命题称为**假命题**。
- 不能被分解为更简单的命题称作**简单命题**或**原子命题**。由简单命题通过联结词联结而成的命题，称作**复合命题**。

> 命题的非真即假是指命题要么为真，要么为假，而不是可能为真，可能为假。  
> 对于陈述：2 是偶数。该陈述一定为真，因此是命题。  
> 对于陈述：X 是偶数，其中 X 是正整数。该陈述不一定为真，因此不是命题。  
> 对于陈述：我正在说假话。如果命题为真，则根据命题可以推断出命题为假；反之亦然。  

- 如果一个命题能由真推出假，由假推出真，也即这个命题既不能为真，也不能为假，则称为**悖论**。**悖论不是命题**。

- **定义 1.1**  
  设 $p$ 为命题，复合命题“非 $p$”（或 “$p$ 的否定”）称作 $p$ 的**否定式**，记作 $\lnot p$ 。$\lnot$ 称作**否定联结词**。规定 $\lnot p$ 为真当且仅当 $p$ 为假。
- **定义 1.2**  
  设 $p$, $q$ 为两个命题，复合命题“$p$ 并且 $q$”（或 “$p$ 与 $q$ ”）称为 $p$ 与 $q$ 的**合取式**，记作 $p\land q$ 。$\land$ 称作**合取联结词**。规定 $p\land q$ 为真当且仅当 $p$ 与 $q$ 同时为真。
- **定义 1.3**  
  设 $p$, $q$ 为两个命题，复合命题“$p$ 或 $q$”称作 $q$ 与 $q$ 的**析取式**，记作 $p\lor q$。$\lor$ 称作**析取联结词**。规定 $p\lor q$ 当且仅当 $p$ 与 $q$ 同时为假。
- **定义 1.4**  
  设 $p$, $q$ 为两个命题，复合命题“如果 $p$ ，则 $q$” 称为 $p$ 与 $q$ 的**蕴涵式**，记作 $p\to q$ ，并称 $p$ 是蕴含式的**前件**，$q$ 为蕴涵式的**后件**。$\to$ 称作**蕴涵联结词**。并规定 $p\to q$ 为假当且仅当 $p$ 为真 $q$ 为假。

> 蕴含式是一个命题，因此是一个非真即假的陈述句。蕴含式仅说明陈述句具有蕴涵结构。  
> 注意蕴涵关系里，$p$ 和 $q$ 不需要有逻辑上的联系。  
> 若 $p$ 为真，$q$ 为真，则 $p\to q$ 为真。例如：如果太阳从东边升起，则 1 等于 1。  
> 若 $p$ 为真，$q$ 为假，则 $p\to q$ 为假，例如：如果太阳从东边升起，则 1 等于 2。  
> 若 $p$ 为假，则 $p\to q$ 为真。这是因为假设的命题不为真，则推导的命题也就无法验证。例如：如果太阳从西边升起，则 1 等于 2。因为假设不成立，因此也就无法验证假设的推导是否成立。

> $p\to q$ 语义上是 $p$ 蕴涵 $q$ ，也即 $q$ 是 $p$ 的必要条件。  
> 蕴涵关系（$p\to q$）的几种表述形式：  
>
> - 若 $p$ ，则 $q$ 。  
> - 只要 $p$ ，则 $q$ 。  
> - $p$ ，仅当 $q$ 。
> - 除非 $q$ ，才有 $p$ 。
> - 除非 $q$ ，否则 $p$ 不发生。
> - 只有 $q$ ，才有 $p$ 。

- **定义 1.5**
  设 $p$, $q$ 为两个命题，复合命题“ $p$ 当且仅当 $q$” 称作 $p$ 与 $q$ 的等价式，记作 $p \leftrightarrow q$ ，$\leftrightarrow$ 称作**等价联结词**。规定 $p\leftrightarrow q$ 为真当且仅当 $p$ 与 $q$ 同时为真或同时为假。

> **命题符号化**的例子  
> - 吴颖既用功又聪明  
> $p$：吴颖用功  
> $q$：吴颖聪明  
> $p\land q$  
> - 张辉虽然聪明，但不用功  
> $p$：张辉聪明  
> $q$：张辉用功  
> $p\land \lnot q$  
> - 张晓静是江西人或安徽人  
> $p$：张晓静是江西人  
> $q$：张晓静是安徽人  
> $p\lor q$  
> - 张静初只能挑选 202 房间或 203 房间  
> $p$：张静初挑选 202 房间  
> $q$：张静初挑选 203 房间  
> 注意互斥性，因此为 $(p\lor \lnot q)\lor (\lnot p\land q)$  
> - 如果 $3+3=6$ ，则雪是白色的  
> $p$：$3+3=6$  
> $q$：$雪是白色的$
> $p\to q$，$p$ 的真值为真，$q$ 的真值为真，$p\to q$ 的真值为真。
> - 只要 $a$ 能被 $4$ 整除，则 $a$ 一定能被 $2$ 整除  
> - $a$ 能被 $4$ 整除，仅当 $a$ 能被 $2$ 整除  
> - 只有 $a$ 能被 $2$ 整除，$a$ 才能被 $4$ 整除  
> $p$：$a$ 能被 $4$ 整除  
> $q$：$a$ 能被 $2$ 整除  
> $p\to q$  
> $p$ 和 $q$ 都不具有确定的值，但是 $p\to q$ 本身为真。
> - $\sqrt{3}$ 是无理数当且仅当加拿大位于亚洲  
> $p$：$\sqrt{3}$ 是无理数  
> $q$：加拿大位于亚洲  
> $p\leftrightarrow q$  
> $p$ 的真值为 1，$q$ 的真值为 0，$p\leftrightarrow q$ 的真值为 0。

### 1.2 命题公式及其赋值（命题形式及真值表）

本节解决问题：  

1. 是不是所有符号串都是命题？  
2. 符号串的真假值如何判断？  

- 简单命题是命题逻辑中最基本的研究单位，其真值是确定的，又称为**命题常项**，或**命题常元**。取值 1 （真）或 0 （假）的变元称作**命题变项**，或**命题变元**。
- 将命题变项用联结词和圆括号按照一定的逻辑关系联结起来的符号串称作**合式公式**。

- **定义 1.6**  
  （1）单个命题变项是合式公式，并称为原子命题公式。  
  （2）若 $A$ 是合式公式，则 $(\lnot A)$ 是合式公式。  
  （3）若 $A$, $B$ 是合式公式，则 $(A\land B)$, $(A \lor B)$, $(A\to B)$, $ (A\leftrightarrow B)$ 是合式公式。  
  （4）有限次地应用（1）～（3）形成的符号串是合式公式。  
  注意：严格来讲，命题公式都是有括号的，只是可以把不影响运算次序的括号省略。  
  这是一种归纳定义的定义方法。  

- **命题形式的 BNF**（Bacus Normal Form）：  
  $\alpha ::= p | (\lnot \alpha) | (\alpha\lor \beta) | (\alpha\land \beta) | (\alpha\rightarrow\beta) | (\alpha\leftrightarrow\beta)$  
  ::= 理解为“定义为”。  

- 合式公式也称作**命题公式**或**命题形式**，简称为**公式**。
- 设 $A$ 为合式公式，$B$ 是 $A$ 的一部分，若 $B$ 也是合式公式，则称 $B$ 为 $A$ 的**子公式**。
- **对象语言**是用来描述研究对象的语言，**元语言**是用来描述对象语言的语言。

- **定义 1.7**  
  （1）若公式 $A$ 是单个的命题变项，则称 $A$ 为 $0$ 层公式。  
  （2）称 $A$ 是 $n+1(n \ge 0)$ 层公式是指下面的情况之一。  
  （a）$A=\lnot B$，$B$ 是 $n$ 层公式；  
  （b）$A=B\land C$，其中 $B$, $C$ 分别为 $i$ 和 $j$ 层公式，且 $n=max(i,j)$；  
  （c）$A=B\lor C$, $A=B\to C$, $A=B\leftrightarrow C$，其中 $B$, $C$ 的层次分别同（b）。  
  （3）若公式 $A$ 的层次为  $k$，则称 $A$ 是 $k$ 层公式。

> 公式的层数：  
> 单目联结词使公式层数增 1。  
> 双目联结词使公式层数在两个参与与运算的公式的最高层数基础上增 1。  

- 命题形式的值由命题形式中的命题变元的值完全确定。  

- **定义 1.8**  
  设 $p_1, p_2, ..., p_n$ 是出现在公式 $A$ 中的全部命题变项，给 $p_1, p_2, ..., p_n$ 各指定一个真值，称为对 $A$ 的一个**赋值**或**解释**或**指派**。若指定的一组值使 $A$ 为 1，则称这组值为 $A$ 的**成真赋值**（成真指派）；若使 $A$ 为 0，则称这组值为 $A$ 的**成假赋值**（成假指派）。

> 含 $n(n \ge 1)$ 个命题变项的公式共有 $2^n$ 个不同的赋值。

- **定义 1.9**  
  将命题公式 $A$ 在所有赋值下取值情况列成表，称作 $A$ 的**真值表**。

> 构造真值表的具体步骤：  
> （1）找出公式中所含的全体命题变项 $p_1, p_2, ..., p_n$ ，列出 $2^n$ 个赋值。赋值从 $00...0$ 开始，然后按二进制加法加 1 ，依次写出每个赋值，直到 $11...1$ 为止。  
> （2）按照从低到高的顺序写出公式的各个层次。  
> （3）对应各个赋值计算出各层次的真值，直到最后计算出公式的真值。

> 例：求 $\lnot p$ 的真值表。
> $p$ | $\lnot p$
> :-: | :-:
> 0 | 1
> 1 | 0

> 例：求 $p\to q$ 的真值表。
> $p$ | $q$ | $p \to q$
> :-: | :-: | :-:
> 0 | 0 | 1
> 0 | 1 | 1
> 1 | 0 | 0
> 1 | 1 | 1

> 例：求 $p \leftrightarrow q$ 的真值表。
> $p$ | $q$ | $p\leftrightarrow q$
> :-: | :-: | :-:
> 0 | 0 | 1
> 0 | 1 | 0
> 1 | 0 | 0
> 1 | 1 | 1

- 如果两个公式 $A$ ，$B$ 的真值表对所有赋值最后一列都相同，即最后结果都相同，则称这**两个真值表相同**。

- **定义 1.10**  
  设 $A$ 为任一命题公式。  
  （1）若 $A$ 在它的各种赋值下取值均为真，则称 $A$ 为**重言式**或**永真式**。  
  （2）若 $A$ 在它的各种赋值下取值均为假，则称 $A$ 为**矛盾式**或**永假式**。  
  （3）若 $A$ 不是矛盾式，则称 $A$ 为**可满足式**。

> 若真值表的全为 1，则为永真式，若全为 0，则为永假式，若有 1，则为可满足式。

> 扩展：布尔逻辑的可满足问题（SAT 问题）是历史上第一个被证明的 NPC 问题，居七个“千禧年”数学难题之首。  

- 设公式 $A, B$ 共含有命题变项 $p_1,p_2,...,p_n$ ，而 $A$ 或 $B$ 不全含这些命题变项，例如，$A$ 中不含 $p_{i},p_{i+1},...,p_n,i\ge 2$ ，称这些命题变项为 $A$ 的**哑元**。

