# 离散数学

## 4 一阶逻辑基本概念

- 命题逻辑具有一定的局限性，甚至无法判断一些常见的简单推理。为了命题逻辑的这种局限性，需要引入**量词**，以期达到表达出**个体**与**总体**之间的内在联系和数量关系，这就是**一阶逻辑**所研究的内容。一阶逻辑也称作**一阶谓词逻辑**或**谓词逻辑**。

### 4.1 一阶命题符号化

- **个体词、谓词和量词是一阶逻辑命题符号化的 3 个基本要素**。  

> 一阶逻辑命题举例：所有偶数都是整数。“所有···都···”是量词，“偶数”是个体词，“是整数”是谓词。

- **个体词**是指所研究对象中可以独立存在的具体的或抽象的客体。
- 将表示具体或特定的客体的个体词称作**个体常项**，一般用小写英文字母 $a,b,c$ 表示。将表示抽象或泛指的个体词称作**个体变项**，常用 $x,y,z$ 表示。称个体变项的取值范围为**个体域**（或**论域**）。

> 对陈述 “$\sqrt{2}$ 是偶数”。其中，$\sqrt{2}$ 是个体常项，“是偶数”是谓词常项。  
> 对陈述 “$x$ 是偶数”。其中，$x$ 是个体变项。对于 $x$ ，可以规定个体域为“所有整数”。

- 有一个特殊的个体域，它是由宇宙间一切事物组成的，称作**全总个体域**。
- **谓词**是用来刻画个体词性质及个体词之间相互关系的词，常用 $F,G,H$ 等表示。
- 表示具体性质或关系的谓词称作**谓词常项**，表示抽象的或泛指的性质或关系的谓词称作**谓词变项**。

> “所有偶数和整数都满足关系 $L$ ”，其中“满足关系 $L$” 是谓词变项。

- 一般地，含 $n(n\ge 1)$ 个个体变项 $x_1,x_2,...,x_n$ 的谓词 $P$ 称作 $n$ **元谓词**。记作 $P(x_1,x_2,...,x_n)$ 。当 $n=1$ 时，表示 $x_1$ 具有性质 $P$ ，当 $n> 1$ 时，表示 $x_1,x_2,...,x_n$ 具有关系 $P$ 。

> 陈述“$x$ 是偶数”，只有一个个体变项，即表示 $x$ 具有一项性质，是偶数。  
> 陈述“$x$ 比 $y$ 大”，有两个个体变项，即表示 $x,y$ 满足一个关系，$x$ 比 $y$ 大。  

- $n$ 元谓词的定义域是个体域，值域是 $\{0,1\}$ 。
- 将不带个体变项的谓词称作 $0$ **元谓词**。当为谓词常项时，$0$ 元谓词为命题。

> **例**  
> 将命题用 $0$ 元谓词符号化  
> 只有 $2$ 是素数，$4$ 才是素数。  
> 析：  
> 设 $1$ 元谓词 $F(x)$：$x$ 是素数，命题可以符号化为  
> $F(4)\to F(2)$  

- 表示个体常项或变项之间数量关系的词称作**量词**。量词有**全称量词**和**存在量词**两种。
- **全称量词**用符号 $\forall$ 表示，$\forall x$ 表示个体域里的所有个体 $x$ ，其中个体域是事先约定的。

> 全称量词的**描述示例**：  
> “一切的”，  
> “所有的”，  
> “每一个”，  
> “任意的”，  
> “凡”，  
> “都”  

> 全称量词**符号示例**：  
> $\forall xF(x)$ 表示个体域里所有 $x$ 具有性质 $F$ ；  
> $\forall x\forall yG(x,y)$ 表示个体域里所有个体 $x,y$ 都有关系 $G$ 。

- **存在量词**用符号 $\exist$ 表示，$\exist x$ 表示个体域里有一个个体 $x$ 。

> 存在量词的**描述示例**：  
> “存在”，  
> “有一个”，  
> “有的”，  
> “至少有一个”，  

> 存在量词**符号示例**：  
> $\exist xF(x)$ 表示个体域中存在 $x$ 具有性质 $F$ ；  
> $\exist x\exist yG(x,y)$ 表示个体域中存在 $x,y$ 满足关系 $G$ ；

> 全称量词和存在量词可以组合使用  
> $\forall x\exist yG(x,y)$ 表示个体域中，所有 $x$ ，存在 $y$ ，满足关系 $G$ 。

> **命题符号化示例**  
>
> （1）凡人都呼吸，个体域 $D_1$ 为人类集合。  
> 个体域中除人外，再没有其它对象。记 $F(x)$：$x$ 呼吸。命题符号化为 $\forall xF(x)$ 。
> （2）凡人都呼吸，个体域 $D_2$ 为全总个体域。  
> 个体域中除人外，还有其它对象，因此要先给定谓词，将人从全总个体域中分离出来，可以取 $G(x)$：$x$ 是人，再取 $F(x)$：$x$ 呼吸。则命题符号化为 $\forall (G(x)\to F(x))$ 。  
> （3）有的人用左手写字。个体域 $D_1$ 为人类集合。  
> 个体域中只有人，因此是存在量词。记 $F(x)$：$x$ 用左手写字。命题符号化为 $\exist x F(x)$ 。  
> （4）有的人用左手写字。个体域 $D_2$ 为全总个体域。  
> 先从个体域中分离出人。取 $G(x)$：$x$ 是人。则命题符号化为 $\exist x(G(x)\to F(x))$ 。  

### 4.2 一阶逻辑公式及其解释

- **一阶语言**，适用于一阶逻辑的形式语言，一阶逻辑是建立在一阶语言上的逻辑体系。
- **非逻辑符号**：个体常项符号，函数符号，谓词符号。  
- **逻辑符号**：个体变项符号，量词符号，联结词符号，括号，逗号。
- **定义 4.1**  
  设 $L$ 是一个非逻辑符号集合，由 $L$ 生成的一阶语言 $\mathscr{L}$ 的**字母表**包括下述符号。  
  非逻辑符号  
  （1）$L$ 中的个体常项符号，常用 $a,b,c,...$ 或 $a_i,b_i,c_i,...(i\ge 1)$ 表示。  
  （2）$L$ 中的函数符号，常用 $f,g,h,...$ 或 $f_i,g_i,h_i,...(i\ge 1)$ 表示。  
  （3）$L$ 中的谓词符号，常用 $F,G,H,...$ 或 $F_i,G_i,H_i,...(i\ge 1)$ 表示。  
  逻辑符号  
  （4）个体变项符号：$x,y,z,...,x_i,y_i,z_i,...(i\ge 1)$ 。  
  （5）量词符号：$\forall, \exist$  
  （6）联结词符号：$\lnot,\land,\lor,\to,\leftrightarrow$ 。  
  （7）括号与逗号：$)(,$  

- **定义 4.2**
  $\mathscr{L}$ 的**项**定义如下：  
  （1）个体常项符号和个体变项符号是项。  
  （2）若 $\varphi(x_1,x_2,...,x_n)$ 是 $n$ 元函数符号，$l_1,l_2,...,l_n$ 是 $n$ 个项，则 $\varphi(l_1,l_2,...,l_n)$ 是项。  
  （3）所有的项都是有限次地使用（1）（2）得到的。

- **定义 4.3**  
  设 $R(x_1,x_2,...,x_n)$ 是 $\mathscr{L}$ 的 $n(n\ge 1)$ 元谓词符号，$t_1,t_2,...,t_n$ 是 $\mathscr{L}$ 的 $n$ 个项，则称 $R(t_1,t_2,...,t_n)$ 是 $\mathscr{L}$ 的**原子公式**。

- **定义 4.4**  
  $\mathscr{L}$ 的**合式公式**定义如下：  
  （1）原子公式是合式公式  
  （2）若 $A$ 是合式公式，则 $(\lnot A)$ 也是合式公式。  
  （3）若 $A,B$ 是合式公式，则 $(A\land B),(A\lor B),(A\to B),(A\leftrightarrow B)$ 也是合式公式。  
  （4）若 $A$ 是合式公式，则 $\forall xA,\exist xA$ 也是合式公式。  
  （5）只有有限次地应用（1）～（4）构成的符号串才是合式公式。  

- $\mathscr{L}$ 的合式公式也称**谓词公式**，简称**公式**。
- **定义 4.5**  
  在公式 $\forall xA$ 和 $\exist xA$ 中，称 $x$ 为**指导变元**，$A$ 为量词的**辖域**，在 $\forall x$ 和 $\exist x$ 的辖域中，$x$ 的所有出现都称作**约束出现**，$A$ 中不是约束出现的其它变项均称作**自由出现**。

> 对 $\forall x(F(x,y)\to G(x,z))$  
> 指导变元为 $x$  
> 辖域为 $A=F(x,y)\to G(x,z)$  
> $x$ 约束出现两次，$y,z$ 各自由出现一次。  

- **定义 4.6**  
  设 $A$ 是任意的公式，若 $A$ 中不含自由出现的个体变项，则称 $A$ 为**封闭的公式**，简称作**闭式**。

> 对公式中所有自由出现的个体变项添加量词即产生封闭的公式。

- 对公式中个体域、个体常项符号、函数符号、谓词符号的指定称作**解释**，指定自由出现的个体变项的值称作**赋值**。

- **定义 4.7**  
  设 $\mathscr{L}$ 是由 $L$ 生成的一阶语言，$\mathscr{L}$ 的**解释** $I$ 由以下部分组成。  
  （1）非空个体域 $D_I$  
  （2）对每一个个体常项符号 $a\in L$ ，有一个 $\overline{a}\in D_I$ ，称 $\overline{a}$ 为 $a$ 在 $I$ 中的解释。
  （3）对每一个 $n$ 元函数符号 $f\in L$ ，有一个 $D_I$ 上的 $n$ 元函数 $\overline{f}:D_I^n\to D_I$ ，称 $\overline{f}$ 为 $f$ 在 $I$ 中的解释。  
  （4）对每一个 $n$ 元谓词符号 $F\in L$ ，有一个 $D_I$ 上的 $n$ 元谓词常项 $\overline{F}$ ，称 $\overline{F}$ 为 $F$ 在 $I$ 中的解释。

- 设公式 $A$ ，规定：在解释 $I$ 和赋值 $\sigma$ 下，  
  1. 取个体域 $D_I$ ，
  2. 若 $A$ 中含个体常项符号 $a$ 就将它替换成 $\overline{a}$ ，
  3. 若 $A$ 中含函数符号 $f$ 就将它替换成 $\overline{f}$ ，
  4. 若 $A$ 中含谓词符号 $F$ 就将它替换成 $\overline{F}$ ，
  5. 若 $A$ 中含自由出现的个体变项符号 $x$ 就将它替换成 $\sigma(x)$ ，  
  把这样得到公式记作 $A'$ ，称 $A'$ 为 $A$ 在 $I$ 和 $\sigma$ 下的**解释**，或 $A$ 在 $I$ 和 $\sigma$ 下**被解释成** $A'$ 。

- **定义 4.8**  
  设 $A$ 为一公式，若 $A$ 在任何解释和该解释下的任何赋值下均为真，则称 $A$ 为**永真式**（或**逻辑有效式**）。若 $A$ 在任何解释和该解释下的任何赋值下均为假，则称 $A$ 为**矛盾式**（或**永假式**）。若至少存在一个解释和该解释下的一个赋值使 $A$ 为真，则称 $A$ 是**可满足式**。

> 在命题逻辑中，可以用真值表等方法判断任意给定的公式是否是可满足的。对于一阶逻辑，情况则不同。由于公式中的谓词和函数可以有各种不同的解释，使得情况变得宜昌复杂，解释是判断任意给定的公式是否是可满足的的问题是不可判定的，即**不存在一个算法能在有限步内判断任意给定的公式是否是可满足的**。因此对于一阶命题逻辑，仅讨论一些简单的情况。

- **定义 4.9**  
  设 $A_0$ 是含命题变项 $p_1,p_2,...,p_n$ 的命题公式，$A_1,A_2,...,A_n$ 是 $n$ 个谓词公式，用 $A_i(1\le i\le n)$ 处处代替 $A_0$ 中的 $p_i$ ，所得公式 $A$ 称为 $A_0$ 的**代换实例**。

> 如 $p\to q$ 可以代换得到 $F(x)\to G(x)$ ，或者代换得到 $\forall xF(x)\to \exist yG(y)$ 。

- **定理 4.1**  
  重言式的代换实例都是永真式，矛盾式的代换实例都是矛盾式。

> 注：这个定理记住结论即可，书中证明略。

> **例 4.9**  
> 判断下列公式中，哪些是永真式，哪些是矛盾式？  
> （1）$\forall x(F(x)\to G(x,y))$  
> （2）$\forall xF(x)\to (\exist x\exist yG(x,y)\to \forall x F(x))$  
> 析：  
> （1）解释 1：$x,y$ 为整数， $F(x)$： $x$ 是整数，$G(x,y)$：$x,y$ 是小数。则 $F(x)$ 为真，$G(x,y)$ 为假，即公式为假。解释 2：$x,y$ 为整数，$F(x)$：$x$ 是整数，$G(x,y)$：$x,y$ 是整数。则 $F(x)$ 为真， $G(x,y)$ 为真，即公式为真。因此公式是非永真式的可满足式。  
> （2）$p\to (q\to p)\Leftrightarrow$  
> $\lnot p\lor (\lnot q\lor p)$ $\Leftrightarrow$  
> $1$  
> 也即对应的命题公式为真，因此该谓词公式为永真式。

