# 离散数学

## 5 一阶逻辑等值演算与推理

### 5.1 一阶逻辑等值式与置换规则

- **定义 5.1**  
  设 $A,B$ 是一阶逻辑中任意两个公式，若 $A\leftrightarrow B$ 是永真式，则称 $A$ 与 $B$ 等值，记作 $A\Leftrightarrow B$ 。称 $A\Leftrightarrow B$ 是**等值式**。

> **基本等值式**  
>
> 1. **命题公式中的重言式通过替换形成逻辑公式中的永真式**。  
> 例如：  
> $p\Leftrightarrow \lnot\lnot p$，替换得到 $\forall xF(x)\Leftrightarrow \lnot\lnot\forall xF(x)$  
> 2. **量词否定等值式**  
> 设 $A(x)$ 含自由出现的个体变项 $x$ ，则  
> （1）$\lnot \forall xA(x)$ $\Leftrightarrow$ $\exist x\lnot A(x)$  
> 即 “不是所有 $x$ 都满足 $A(x)$” 等价于 “存在 $x$ 不满足 $A(x)$” 。  
> **如何证明？**  
> （2）$\lnot \exist xA(x)\Leftrightarrow \forall x\lnot A(x)$  
> 即 “不存在 $x$ 满足 $A(x)$” 等价于 “所有 $x$ 都不满足 $A(x)$”  
> 3. **量词辖域收缩域扩张等值式**  
> 设公式 $A(x)$ 含自由出现的个体变项 $x$ ，$B$ 不含 $x$ 的自由出现，则  
> （1）$\forall x(A(x)\lor B)\Leftrightarrow \forall x(A(x)\lor B)$  
> （2）$\forall x(A(x)\land B)\Leftrightarrow \forall x(A(x)\land B)$  
> （3）$\forall x(A(x)\to B)\Leftrightarrow \exist x A(x)\to B)$  
> （4）$\forall x(B\to A(x))\Leftrightarrow B\to \exist xA(x)$  
> （5）$\exist x(A(x)\lor B)\Leftrightarrow \exist xA(x)\lor B$  
> （6）$\exist x(A(x)\land B)\Leftrightarrow \exist xA(x)\land B$  
> （7）$\exist xA(x)\to B\Leftrightarrow \forall xA(x)\to B$  
> （8）$\exist x(B\to A(x))\Leftrightarrow B\to \exist xA(x)$
> 3. **量词分配等值式**  
> 设公式 $A(x),B(x)$ 含自由出现的个体变项 $x$ ，则  
> （1）$\forall x(A(x)\land B(x))$  
> （2）$\exist x(A(x)\lor B(x))\Leftrightarrow \exist xA(x)\lor \exist xB(x)$

> 1. **置换规则**  
> 设 $\Phi(a)$ 是含公式 $A$ 的公式，$\Phi(B)$ 是用公式 $B$ 取代 $\Phi(A)$ 中所有的 $A$ 后所得到的公式，那么，若 $A\Leftrightarrow B$ ，则 $\Phi(A)\Leftrightarrow \Phi(B)$ 。  
> 与命题逻辑中的置换规则相比，置换对象由命题公式变为一阶逻辑公式。
> 2. **换名规则**  
> 设 $A$ 为一公式，将 $A$ 中某量词辖域中的一个约束变项的所有出现及相应的指导变元全部改成该量词辖域中未曾出现过的某个个体变项符号，公式中其余部分不变，将所得公式记作 $A'$，则 $A'\Leftrightarrow A$ 。  
> 也即量词辖域中的名字只在辖域内有效。

### 5.2 一阶逻辑前束范式

- **定义 5.2**  
  具有如下形式 $Q_xx_1Q_2x_2...Q_kx_kB$ 的一阶逻辑公式称作**前束范式**，其中 $Q_i(1\le i \le k)$ 为 $\forall$ 或 $\exist$ ，$B$ 为不含量词的公式。

> 前束范式只有一个量词作用范围。

> 前束范式举例：  
> $\forall x\forall y(F(x)\land G(y)\to H(x,y))$  
> $\forall x\forall y\exist z(F(x)\land G( y)\land G(z)\to L(x,z))$

- **定理 5.1**  
  **前束范式存在定理**  
  一阶逻辑中的任何公式都存在等值的前束范式。

### 5.3 一阶逻辑的推理理论

- 在一阶逻辑中，从前提 $A_1,A_2,...,A_k$ 出发推出结论 $B$ 的推理的形式结构，依然采用如下的蕴含式 $A_1\land A_2\land ... \land A_k\to B$ 。若其为永真式，则称**推理正确**，否则称**推理不正确**。
- 在一阶逻辑中称永真式的蕴含式为**推理定律**。若一个推理的形式结构时推理定律，则这个推理时正确的。

> 推理定律的来源。  
> **一、命题逻辑推理定律的代换实例**  
> 如  
> $\forall xF(x)\land \forall yG(y)\Rightarrow \forall xF(x)$  
> $\forall xF(x)\Rightarrow \forall xF(x)\lor \exist yG(y)$  
> **二、由基本等值式生成的推理定律**  
> 如由双重否定律有  
> $\forall xF(x)\Rightarrow \lnot\lnot \forall xF(x)$  
> $\lnot\lnot \forall xF(x)\Rightarrow \forall xF(x)$  
> 由量词否定等值式可以生成  
> $\lnot \forall xF(x)\Rightarrow \exist x\lnot F(x)$  
> $\exist x\lnot F(x)\Rightarrow \lnot \forall xF(x)$  
> **三、一些常用的重要推理定律**  
>
> 1. $\forall xA(x)\lor \forall xB(x)\Rightarrow \forall x(A(x)\lor B(z))$  
> 2. $\exist (A(x)\land B(x))\Rightarrow \exist xA(x)\land \exist xB(x)$  
> 3. $\forall x(A(x)\to B(x))\Rightarrow \forall xA(x)\to \forall xB(x)$  
> 4. $\forall x(A(x)-B(x))\Rightarrow \exist xA(x)\to \exist xB(x)$

> 全称量词和存在量词的消去和引入规则。  
> 前提：$\Gamma=\{A_1,A_2,...,A_k\}$  
>
> **一、全称量词消去规则**（记为 $\forall -$）  
> $\displaystyle\frac{\forall xA(x)}{\therefore A(y)}$ 或 $\displaystyle\frac{\forall xA(x)}{\therefore A(c)}$  
其中，$x,y$ 是个体变项符号，$c$ 是个体常项符号，且在 $A$ 中 $x$ 不在 $\forall y$ 和 $\exist y$ 的辖域内自由出现。  
> **二、全称量词引入规则**（记为 $\forall +$）  
> $\displaystyle \frac{A(y)}{\therefore \forall xA(x)}$  
> **三、存在量词消去规则**（记为 $\exist -$）  
> 已知 $\exist xA(x)$  
> $\displaystyle \frac{A(y)\to B}{\therefore B}$ 或 $\displaystyle \frac{A(y)\to B}{\therefore \exist xA(x)\to B}$  
>
> 已知 $\exist xA(x)$  
> $\displaystyle \frac{A(c)\to B}{\therefore B}$ 或 $\displaystyle \frac{A(c)\to B}{\therefore \exist xA(x)\to B}$  
> **四、存在量词引入规则**（记为 $\exist +$）  
> $\displaystyle \frac{A(y)}{\therefore \exist xA(x)}$ 或 $\displaystyle \frac{B\to A(y)}{\therefore B\to \exist xA(x)}$
>
> $\displaystyle \frac{A(c)}{\therefore \exist xA(x)}$ 或 $\displaystyle \frac{B\to A(c)}{\therefore B\to \exist xA(x)}$

- **定义 5.3** **自然推理系统** $N_{\mathscr{L}}$ 定义如下。  

1. 字母表。同一阶语言 $\mathscr{L}$ 的字母表。
2. 合式公式。同 $\mathscr{L}$ 的合式公式的定义。
3. 推理规则：  
（1）前提引入规则。  
（2）结论引入规则。  
（3）置换规则。  
（4）假言推理规则。  
（5）附加规则。  
（6）化简规则。  
（7）拒取式规则。  
（8）假言三段论规则。  
（9）析取三段论规则。  
（10）构造性二难推理规则。  
（11）合取引入规则。  
（12）$\forall -$ 规则。  
（13）$\forall +$ 规则。  
（14）$\exist -$ 规则。  
（15）$\exist +$ 规则。  

- 在推理系统 $N_\mathscr{L}$ 种推理的证明与自然推理系统 $P$ 中推理的证明相同。设前提 $A_1,A_2,...,A_k$ ，结论 $B$ 和公式序列 $C_1,C_2,...,C_l$ 。如果每一个 $i(i=1,2,...,l)$ ，$C_i$ 是某个 $A_j$ ，或者可以由序列前面的公式应用图例规则得到，并且 $C_l=B$ ，则称公式序列 $C_1,C_2,...,C_l$ 是由 $A_1,A_2,...,A_k$ 推出的**证明**。

> **例 5.9** 在自然推理系统 $N_{\mathscr{L}}$ 中，构造下面推理的证明。  
> 任何自然数都是整数。存在自然数。所以，存在着整数。个体域为实数集合 $\boldsymbol{R}$ 。  
> 解：  
> 设 $F(x):x$ 为自然数，$G(x):x$ 为整数。  
> 前提：$\forall x(F(x)\to G(x)),\exist xF(x)$  
> 结论：$\exist xG(x)$  
> 证明：  
> $\forall x(F(x)\to G(x))$  
> $F(x)\to G(x)$ $去掉全称量词$  
> 