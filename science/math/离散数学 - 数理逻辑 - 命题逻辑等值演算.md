# 离散数学

## 2 命题逻辑等值演算

### 2.1 等值式

- **定义 2.1**  
  设 $A,B$ 是两个命题公式，若 $A,B$ 构成的等价式 $A\leftrightarrow B$ 为重言式，则称 $A$ 与 $B$ 是**等值**的，记作 $A\Leftrightarrow B$ 。

> 注：  
> $\Leftrightarrow$ 是元语言符号，而 $\leftrightarrow$ 是对象语言符号。  
> 对命题常项（陈述句）而言，等价是陈述句的陈述形式。对命题变项而言，等价是命题变项或其组合（合式公式）之间的联系。等值是针对两个命题公式（也即合式公式）而言，表示两个公式在任何情况下（所含的命题变项的所有取值组合）都具有相同的值。  
> 若 $A$ 和 $B$ 等值，则 $A, B$ 等价为真。

- 设 $A$ 是一个命题公式，含有命题变项 $p_1,p_2,...,p_n$ ，又设 $A_1,A_2,...,A_n$ 是任意的命题公式。对每一个 $i(i=1,2,...,n)$ ，把 $p_i$ 在 $A$ 中的所有出现都替换成 $A_i$ ，所得到的新命题公式记作 $B$ 。那么，如果 $A$ 是重言式，则 $B$ 也是重言式。将重言式中的任意命题变项替换成任意公式后得到的公式也是重言式，称前后两个公式为**等值式模式**。

> **常用的 16 组等值式模式**
>
> 1. 双重否定律  
> $A\Leftrightarrow \lnot\lnot A$  
> 证明：
>
> $p$ | $\lnot p$ | $\lnot \lnot p$
> :-: | :-: | :-:
> 0 | 1 | 0
> 1 | 0 | 1
>
> 2. 幂等律  
> $A\Leftrightarrow A\land A$  
> $A\Leftrightarrow A\lor A$  
> 证明：  
>
> $p$ | $p\land p$ | $p\lor p$
> :-: | :-: | :-:
> 0 | 0 | 0
> 1 | 1 | 1
>
> 3. 交换律  
> $A\lor B\Leftrightarrow B\lor A$  
> $A\land B\Leftrightarrow B\land A$  
> 证明：显然。
>
> 4. 结合律  
> $(A\land B)\land C\Leftrightarrow A\land (B\land C)$  
> $(A\lor B)\lor C\Leftrightarrow A\lor(B \lor C)$  
> 证明：略。  
>
> 5. 分配律  
> $A\lor(B \land C)\Leftrightarrow (A\lor B)\land (A\lor C)$  
> $A\land(B\lor C)\Leftrightarrow (A\land B)\lor (A\land C)$  
> 证明：略。
>
> > 补充：  
> > $(A\land B)\lor (C\land D)\Leftrightarrow$  
> > $(A\lor C)\land (A\lor D)\land (B\lor C)\land (B\lor D)$  
> > $(A\lor B)\land (C\lor D)\Leftrightarrow$  
> > $(A\land C)\lor (A\land D)\lor (B\land C)\lor (B\land D)$
>
> 6. 德摩根律  
> $\lnot (A\lor B)\Leftrightarrow \lnot A\land \lnot B$  
> $\lnot (A\land B)\Leftrightarrow \lnot A\lor \lnot B$  
> 证明：  
> 只证一个。
>
> $p$ | $q$ | $p\lor q$ | $\lnot(p\lor q)$ | $\lnot p$ | $\lnot q$ | $\lnot p \land \lnot q$
> :-: | :-: | :-: | :-: | :-: | :-: | :-:
> 0 | 0 | 0 | 1 | 1 | 1 | 1
> 0 | 1 | 1 | 0 | 1 | 0 | 0
> 1 | 0 | 1 | 0 | 0 | 1 | 0
> 1 | 1 | 1 | 0 | 0 | 0 | 0
>
> 7. 吸收律  
> $A\lor (A\land B)\Leftrightarrow A$  
> $A\land(A\lor B)\Leftrightarrow A$
>
> $p$ | $q$ | $p\land q$ | $p\lor(p\land q)$
> :-: | :-: | :-:        | :-:
> 0 | 0 | 0 | 0
> 0 | 1 | 0 | 0
> 1 | 0 | 0 | 1
> 1 | 1 | 1 | 1
>
> 8. 零律  
> $A\lor 1\Leftrightarrow 1$  
> $A\land 0 \Leftrightarrow 0$
>
> 9. 同一律  
> $A\lor 0\Leftrightarrow A$  
> $A\land 1\Leftrightarrow A$
>
> 10. 排中律  
> $A\lor \lnot A\Leftrightarrow 1$
>
> 11. 矛盾律  
> $A\land \lnot A\Leftrightarrow 0$  
>
> 12. 蕴涵等值式  
> $A\to B\Leftrightarrow \lnot A\lor B$  
> 证明：  
>
> $p$ | $q$ | $\lnot p$ | $p\to q$ | $\lnot p\lor q$
> :-: | :-: | :-:       | :-:      | :-:
> 0 | 0 | 1 | 1 | 1
> 0 | 1 | 1 | 1 | 1
> 1 | 0 | 0 | 0 | 0
> 1 | 1 | 0 | 1 | 1
>
> 13. 等价等值式  
> $A\leftrightarrow B\Leftrightarrow(A\to B)\land(B\to A)$  
>
> $p$ | $q$ | $p\to q$ | $q\to p$ | $(p\to q)\land (q\to p)$ | $p\leftrightarrow q$
> :-: | :-: | :-:      | :-:      | :-:                      | :-:
> 0 | 0 | 1 | 1 | 1 | 1
> 0 | 1 | 1 | 0 | 0 | 0
> 1 | 0 | 0 | 1 | 0 | 0
> 1 | 1 | 1 | 1 | 1 | 1
>
> 14. 假言易位  
> $A\to B\to \lnot B \to \lnot A$  
>
> $p$ | $q$ | $p\to q$ | $\lnot p$ | $\lnot q$ | $\lnot q\to \lnot p$
> :-: | :-: | :-:      | :-:       | :-:       | :-:
> 0 | 0 | 1 | 1 | 1 | 1
> 0 | 1 | 1 | 1 | 0 | 1
> 1 | 0 | 0 | 0 | 1 | 0
> 1 | 1 | 1 | 0 | 0 | 1
>
> 15. 等价否定等值式
> $A\leftrightarrow B\Leftrightarrow \lnot A\leftrightarrow \lnot B$  
>
> $p$ | $q$ | $\lnot p$ | $\lnot q$ | $p\leftrightarrow q$ | $\lnot p\leftrightarrow \lnot q$
> :-: | :-: | :-:       | :-:       | :-:                  | :-:
> 0 | 0 | 1 | 1 | 1 | 1
> 0 | 1 | 1 | 0 | 0 | 0
> 1 | 0 | 0 | 1 | 0 | 0
> 1 | 1 | 0 | 0 | 1 | 1
>
> 16. 归谬论  
> $(A\to B)\land(A\to\lnot B)\Leftrightarrow \lnot A$
>
> $p$ | $q$ | $\lnot p$ | $\lnot q$ | $p\to q$ | $p\to \lnot q$ | $(p\to q)\land (p\to \lnot q)$
> :-: | :-: | :-:       | :-:       | :-:      | :-: | :-:
> 0 | 0 | 1 | 1 | 1 | 1 | 1
> 0 | 1 | 1 | 0 | 1 | 1 | 1
> 1 | 0 | 0 | 1 | 0 | 1 | 0
> 1 | 1 | 0 | 0 | 1 | 0 | 0

> **可以观察，等值关系和集合关系具有一致性**。  
> 否定联结词对应集合关系的补集。  
> 合取联结词对应集合关系的交集。  
> 析取联结词对应集合关系的合集。  

- 将公式代入等值式模式即可得到一个具体的等值式，称为等值式模式的**代入实例**。
- 由已知的等值式推演出另外一些等值式的过程称作**等值演算**。
- **置换规则**设 $\Phi(A)$ 是含公式 $A$ 的命题公式，$\Phi(B)$ 是用公式 $B$ 置换 $\Phi(A)$ 中 $A$ 的所有出现后得到的命题公式。若 $B\Leftrightarrow A$ ，则 $\Phi(A)\Leftrightarrow \Phi(B)$ 。

### 2.2 析取范式与合取范式

- **定义 2.2**  
  命题变项及其否定统称作**文字**。仅由有限个文字构成的析取式称作**简单析取式**。仅由有限个文字构成的合取式称作**简单合取式**。

> 文字如：$p,\lnot q$  
> 简单析取式如：$p\lor q,$  
> 简单合取式如：$p\land q$  

- **定理 2.1**  
  （1）一个简单析取式是重言式当且仅当它同时含某个命题变项及它的否定式。  
  （2）一个简单合取式是矛盾式当且仅当它同时含某个命题变项及它的否定式。

- **定义 2.3**  
  由有限个简单合取式的析取构成的命题公式称作**析取范式**。由有限个简单析取式的合取构成的命题公式称作**合取范式**。析取范式与合取范式统称作**范式**。

> 范式分为析取范式和合取范式。以析取范式为例，析取范式由简单析取式构成，简单析取式由文字的析取式构成，文字只能是命题变项或者其否定。  
> 析取范式如 $p\lor (\lnot p\land q)\lor (p\land q)$  
> 合取范式如 $p\land (p\lor q)\land (p\lor \lnot q)$  

- **定理 2.2**  
  （1）一个析取范式是矛盾式当且仅当它的每个简单合取式都是矛盾式。  
  （2）一个合取范式是重言式当且仅当它的每个简单析取式都是重言式。

- **定理 2.3**  
  **范式存在定理**  
  任一命题都存在与之等值的析取范式与合取范式。

> **求给定公式范式的步骤**为：  
>
> 1. 消去联结词 $\to$, $\leftrightarrow$ 。  
> $A\to B\Leftrightarrow \lnot A\lor B$  
> $A\leftrightarrow B\Leftrightarrow (A\to B)\land (B\to A)$  
>
> 2. 用双重否定律消去双重否定符，用德摩根律内移否定符。  
> $\lnot\lnot A\Leftrightarrow A$  
> $\lnot(A\lor B)\Leftrightarrow \lnot A\land \lnot B$  
> $\lnot(A\land B)\Leftrightarrow \lnot A\lor \lnot B$
>
> 3. 使用分配律。  
> $A\lor (B\land C)\Leftrightarrow (A\lor B)\land (A\lor C)$  
> $A\land (B\lor C)\Leftrightarrow (A\land B)\lor (A\land C)$

> **例**：求 $(p\to q)\leftrightarrow r$ 的析取范式和合取范式。  
> 合取范式：  
> $(p\to q)\leftrightarrow r$ $\Leftrightarrow$  
> $(\lnot p\lor q)\leftrightarrow r$ $\Leftrightarrow$  
> $((\lnot p\lor q) \to r)\land(r\to (\lnot p\lor q))$  $\Leftrightarrow$  
> $(\lnot r \lor (\lnot p\lor q))\land (\lnot (\lnot p\lor q)\lor r)$ $\Leftrightarrow$  
> $(\lnot r \lor \lnot p \lor q)\land ((p\land \lnot q)\lor r)$ $\Leftrightarrow$  
> $(\lnot r \lor \lnot p\lor q)\land (p\lor r)\land (\lnot q\lor r)$  
> 析取范式：  
> 应用分配律时调整分配方式，即可。  
> $(\lnot r \lor \lnot p \lor q)\land ((p\land \lnot q)\lor r)$ $\Leftrightarrow$  
> $(\lnot r\land p\land \lnot q)\lor (\lnot r\land r)\lor (\lnot p\land p\land \lnot q)\lor (\lnot p\land r)\lor (q\land p\land \lnot q)\lor (q\land r)\Leftrightarrow$  
> $(\lnot r\land p\land \lnot q)\lor (\lnot p\land r)\lor (q\land r)$

- **定理 2.4**  
  在含有 $n$ 个命题变项的简单合取式（简单析取式）中，若每个命题变项和它的否定式恰好出现一个且仅出现一次，而且命题变项或它的否定式按照下标从小到大或按照字典顺序排列，称这样的简单合取式（简单析取式）为**极小项（极大项）**。

> **两个命题变项的极小项与极大项**
>
> 极小项 | 成真赋值 | 名称
> :-:   | :-:    | :-:
> $\lnot p\land \lnot q$ | `0 0` | $m_0$
> $\lnot p\land q$ | `0 1` | $m_1$
> $p\land \lnot q$ | `1 0` | $m_2$
> $p\land q$ | `1 1` | $m_3$
>
> 极大项 | 成假赋值 | 名称
> :-:   | :-:    | :-:
> $p\lor q$ | `0 0` | $M_0$
> $p\lor \lnot q$ | `0 1` | $M_1$
> $\lnot p\lor q$ | `1 0` | $M_2$
> $\lnot p\lor \lnot q$ | `1 1` | $M_3$

- **定理 2.4**  
  设 $m_i$ 与 $M_i$ 是命题变项含 $p_1,p_2,...,p_n$ 的极小项和极大项，则 $\lnot m_i\Leftrightarrow M_i$, $\lnot M_i\Leftrightarrow m_i$ 。

- **定义 2.5**  
  所有简单合取式（简单析取式）都是极小项（极大项）的析取范式（合取范式）称为**主析取范式（主合取范式）**。

> 主析取范式由简单合取式组成；主合取范式由简单析取式组成。

> **例**：求 $(p\to q) \leftrightarrow r$ 的主析取范式和主合取范式。  
> 已有析取范式为 $(\lnot r\land p\land \lnot q)\lor (\lnot p\land r)\lor (q\land r)$ ， 合取范式为 $(\lnot r \lor \lnot p\lor q)\land (p\lor r)\land (\lnot q\lor r)$ 。  
>
> $p\land \lnot q\land \lnot r$ $\Leftrightarrow$  
> $m_4$  
>
> $(\lnot p \land r)$ $\Leftrightarrow $  
> $\lnot p\land r\land (q\lor \lnot q)$  
> $(\lnot p\land r\land q)\lor (\lnot p\land r\land \lnot q)$  
> $m_3 \lor m_1$  
>
> $q\land r$  
> $(p\lor \lnot p)\land q\land r$  
> $(p\land q\land r)\lor (\lnot p\land q\land r)$  
> $m_7\lor m_3$  
> 故主析取范式为 $m_1\lor m_3\lor m_4 \lor m_7$ 。
>
> $p\lor r$ $\Leftrightarrow$  
> $p\lor (q \land \lnot q)\lor r$ $\Leftrightarrow$  
> $(p\lor q\lor r)\land (p\lor \lnot q\lor r)$ $\Leftrightarrow$  
> $M_0\land M_2$  
>
> $\lnot q\lor r$ $\Leftrightarrow$  
> $(p\land \lnot p)\lor \lnot q\lor r$ $\Leftrightarrow$  
> $(p\lor \lnot q\lor r)\land (\lnot p\lor \lnot q\lor r)$  
> $M_2\lor M_6$
>
> $\lnot r\lor \lnot p\lor q$  
> $M_5$  
>
> 即主合取式为 $M_0\land M_2\land M_5 \land M_6$ 。

> **例**：求命题公式 $p\to q$ 的主析取范式与主合取范式。  
> $p\to q$ $\Leftrightarrow$  
> $\lnot p\lor q$ $\Leftrightarrow$  
> $M_2$  
> $\Leftrightarrow$  
> $(\lnot p\land (q\lor \lnot q))\lor ((p\lor \lnot p)\land q)$ $\Leftrightarrow$  
> $(\lnot p\land q)\lor (\lnot p\lor \lnot q)\lor (p\land q)\lor (\lnot p\land q)$ $\Leftrightarrow$  
> $m_0\lor m_1\lor m_3$

> **扩展**  
> **析取范式和合取范式的变换**  
> $p\lor q$ $\Leftrightarrow$  
> $M_0$ $\Leftrightarrow$  
> $(p\land (q\lor \lnot q))\lor ((p\lor \lnot p)\land q)$ $\Leftrightarrow$  
> $(p\land q)\lor (p\land \lnot q)\lor (p\land q)\lor (\lnot p\land q)$ $\Leftrightarrow$  
> $m_1 \lor m_2 \lor m_3$
>
> $p\land q$ $\Leftrightarrow$  
> $m_3$ $\Leftrightarrow$  
> $(p\lor (q\land \lnot q))\land ((p\land \lnot p)\lor q)$ $\Leftrightarrow$  
> $(p\lor q)\land (p\land \lnot q)\land (p\lor q)\land (\lnot p\lor q)$ $\Leftrightarrow$  
> $M_0 \land M_1 \land M_2$

- **定理 2.5**  
  任何命题公式都存在与之等值的主析取范式和主合取范式，并且是唯一的。

- **主析取范式、主合取范式的应用**  
  - 求公式的成真赋值与成假赋值  
    例如，主析取范式的简单析取式的下标的二进制形式即为成真赋值；主合取范式的简单合取式的下标的二进制形式即为成假赋值。
  - 判断公式的类型  
    如判断公式是否为重言式、矛盾式；是否为可满足式。  
    如果析取式存在 $2^n$ 个简单析取式，则为重言式（永真式），如果不存在（为空，0），则为矛盾式；存在简单析取式，则为可满足式。  
    如果合取式存在 $2^n$ 个简单合取式，则为矛盾式（永假式），如果不存在（为空，0），则为重言式；简单合取式的数量小于 $2^n$ 个，则为可满足式。  
  - 判断两个公式是否等值  
    写出两个公式的主析取范式或者主合取范式，如果一致，则等值；否则不等值。  

> **例**  
> 判断 $p$ 与 $(p\land q)\lor (p\land \lnot q)$ 是否等值。  
> 第二个公式是主析取式，为 $m_2 \lor m_3$

### 2.3 联结词的完备集

- **引导问题**：  
  - 为什么只考虑五个联结词？  
    - 这五个联结词能否表示所有联结词？  
    - 这五个联结词是否有多余的？  
  - 什么是联结词？  
  - 什么是一些联结词表示了一个联结词？  
  - 什么是联结词的“多余”？  

- 联结词确定了复合命题的构造方式，复合命题建立了真假值对应方式。

- **定义 2.6**  
  称 $F:\{0,1\}^n\to \{0,1\}$ 为 **$n$** **元真值函数**。

> 这里是集合论中的写法，$A^n=\{<a_1,a_2,...,a_n>|a_i\in A, 1\le i\le n\}$，因此如果 $A=\{0,1\}$ ，则为 $\{0,1\}^n=\{<a_1,a_2,...,a_n>|a_i\in\{0,1\},1\le i\le n\}$

> $n$ 元真值函数的定义域和值域  
> 定义域：由 $0,1$ 组成的长为 $n$ 的符号串的全体，即 $\{0..00,0..01,...,1...11\}$  
> 值域：$0$ 和 $1$，即 $\{0,1\}$

> 对 $n$ 元真值函数，其自变量共有 $2^n$ 种，$2^n$ 种自变量对应 $2^{(2^n)}$ 种值域取值（每一个自变量组合对应因变量两个取值）。  
> 例如，$1$ 元真值函数总共有 $2^{(2^1)}=4$ 个。  
>
> $p$ | $F_0^{(1)}$ | $F_1^{(1)}$ | $F_2^{(1)}$ | $F_3^{(1)}$
> :-: | :-: | :-: | :-: | :-:
> 0 | 0 | 0 | 1 | 1
> 1 | 0 | 1 | 0 | 1
>
> $p$ | $q$ | $F_0^{(2)}$ | $F_1^{(2)}$ | $F_2^{(2)}$ | $F_3^{(2)}$ | ...
> :-: | :-: | :-: | :-: | :-: | :-: | :-:
> 0 | 0 | 0 | 0 | 0 | 0 | ... 
> 0 | 1 | 0 | 0 | 0 | 0 | ...
> 1 | 0 | 0 | 0 | 1 | 1 | ...
> 1 | 1 | 0 | 1 | 0 | 1 | ...

- 一个联结词确定一个真值函数，一个命题形式也确定一个真值函数。  

- 一个真值函数与一个主析取范式或合取范式唯一等值。  

> $F_0^{(2)}$ 表示取值总为 $0$ ，即矛盾式。  
> $F_1^{(2)}$ 表示 $m_3$ （全为真时为真）。  
> $F_3^{(2)}$ 表示 $m_2\lor m_3$ 。

- **定义 2.7**  
  设 $S$ 是一个联结词集合，如果任何 $n(n\ge 1)$ 元真值函数都可以由仅含 $S$ 中的联结词构成的公式表示，则称 $S$ 是**联结词完备集**。

- **定理 2.6**  
  $S=\{\lnot,\land,\lor\}$ 是联结词完备集。

> 证明：因为任意一个真值函数都与唯一的一个主析取范式等值，而主析取范式中只用到了 $\lnot$、$\land$、$\lor$ ，因此 $S=\{\lnot,\land,\lor\}$ 是联结词完备集。  

- **定理 2.6 推论**  
  以下联结词集都是联结词完备集。  
  （1）$S_1=\{\lnot,\land,\lor,\to\}$  
  （2）$S_2=\{\lnot,\land,\lor,\to,\leftrightarrow\}$  
  （3）$S_3=\{\lnot,\land\}$  
  （4）$S_4=\{\lnot,\lor\}$  
  （5）$S_5=\{\lnot,\to\}$  

- **定义 2.8**  
  设 $p,q$ 是两个命题，复合命题“ $p$ 与 $q$ 的否定式”称作 $p,q$ 的**与非式**，记作 $p \uarr q$ 。即 $p\uarr q\Leftrightarrow \lnot(p\land q)$ 。符号 $\uarr$ 称作**与非联结词**。  
  复合命题“ $p$ 或 $q$ 的否定式”称作 $p,q$ 的**或非式**，记作 $p\darr q$ 。即 $p\darr q\Leftrightarrow \lnot(p\lor q)$ 。符号 $\darr$ 称作**或非联结词**。

- **定理 2.7**  
  $\{\uarr\}, \{\darr\}$ 都是联结词完备集。

> $\lnot p$ $\Leftrightarrow$  
> $\lnot(p\land p)$ $\Leftrightarrow$  
> $p\uarr p$  
>
> $p\land q$ $\Leftrightarrow$  
> $\lnot (p\uarr q)$ $\Leftrightarrow$  
> $(p\uarr q)\uarr (p\uarr q)$
>
> $p\lor q$ $\Leftrightarrow$  
> $\lnot\lnot(p\lor q)$ $\Leftrightarrow$  
> $\lnot(\lnot p\land\lnot q)$ $\Leftrightarrow$  
> $\lnot p\uarr\lnot q$ $\Leftrightarrow$  
> $(p\uarr p)\uarr (q\uarr q)$
>
> $\lnot p$ $\Leftrightarrow$  
> $\lnot (p\lor p)$ $\Leftrightarrow$  
> $p\darr p$
>
> $p\land q$ $\Leftrightarrow$  
> $\lnot(\lnot p\lor \lnot q)$ $\Leftrightarrow$  
> $\lnot p\darr \lnot q$ $\Leftrightarrow$  
> $(p\darr p)\darr (q\darr q)$  
>
> $p\lor q$ $\Leftrightarrow$  
> $\lnot (p\darr q)$ $\Leftrightarrow$  
> $(p\darr q)\darr (p\darr q)$

### 2.4 可满足性问题与消解法

- **消解法**是真值表、主析取范式或主合取范式之外的一种解决可满足性问题的方法。
- 称不含任何文字的简单析取式为**空简单析取式**，记作 $\lambda$ 。规定空简单析取式是不可满足的。

> 空简单析取式不可满足是根据消解法规定的。  
> $p\land \lnot p$ 消解为空（不含任何文字的析取式），而消解前为不可满足的，因此空简单析取式也是不可满足的（也可以从不含任何文字的析取式是不可满足的角度理解）。

- 设 $l$ 是一个文字，记 $l^c=\begin{cases}\lnot p, &若 l=p\\ p, &若 l=\lnot p\end{cases}$ 称作文字 $l$ 的补。

- **定义 2.9**  
  设 $C_1,C_2$ 是两个简单析取式，$C_1$ 含文字 $l$ ，$C_2$ 含 $l^c$ 。从 $C_1$ 中删去 $l$ ，从 $C_2$ 中删去 $l^c$ ，然后再将所得到的结果析取成一个简单析取式，称这样得到的简单析取式为 $C_1,C_2$ 的（以 $l$ 和 $l^c$ 为**消解文字**的） **消解式**或**消解结果**，记为 $Res(C_1,C_2)$ 。即设 $C_1=C_1'\lor l, C_2=C_2'\lor l^c, Res(C_1,C_2)=C_1'\lor C_2'$ 。

> 消解是针对析取式而言的。

- 根据定义 2.9 由 $C_1,C_2$ 得到 $Res(C_1,C_2)$ 的规则称作**消解规则**。

- 如果 $C_1,C_2$ 可对多对文字消解，则其消解结果都是等值的。

> **简单证明**  
> 不妨记 $C_1=A\lor l_1 \lor l_2 \lor ... \lor l_n$，$C_2=B \lor \lnot l_1\lor \lnot l_2\lor ... \lor \lnot l_n$ ，$A,B$ 是不可消解的任意文字，即最多有 $n$ 对文字可以消解。消去 1 对文字之后，由于剩余的可消解的文字对一定有 $l_i\lor \lnot l_i$ 的形式（或者消解结果就只有一个），则一定为永真式，也即所有的消解结果的值相同。  
> **举例**  
> $C_1=p\lor q \lor r$，$C_2=\lnot p\lor \lnot q$，则消去 $p$ ，为 $D_1=q\lor r \lor \lnot q$，消去 $q$ ，则为 $D_2=p\lor r\lor \lnot p$，$D_1,D_2$ 都是永真式。

- **定理 2.8**  
  $C_1\land C_2\approx Res(C_1,C_2)$ 。

> 符号 $\approx$ 表示两端的公式具有相同的可满足性，即  
> 若 $C_1\land C_2$ 可满足，则 $Res(C_1,C_2)$ 可满足；  
> 若 $Res(C_1, C_2)$ 可满足，则 $C_1\land C_2$ 可满足；

> **简单证明**  
> 若 $C_1\land C_2$ 可满足，则 $C_1$ 和 $C_2$ 均可满足，消解过程中，如果消解没有引起不满足条件改变，则消解之后仍可满足，如果消解引起不满足条件改变（满足的文字被消解），假设为 $C_1$ ，则对 $C_2$ ，根据消解的规则（消解的是补），一定不引起满足条件改变，因此消解结果也一定可满足。  
> 若 $Res(C_1,C_2)$ 可满足，则若记 $Res(C_1,C_2)=A_1\lor A_2$ ，$A_1, A_2$ 至少有一个可满足，不妨设 $A_1$ 可满足，再不妨记 $C_1=A_1\lor l$ ，$C_2=A_2\lor l^c$ ，则有 $C_1$ 可满足，此时只要取 $l^c$ 可满足即可。也即 $C_1\land C_2$ 一定可满足。  
> 举例：假设消解结果为 $p\lor \lnot p$ ，则消解前的析取式可以为 $p\lor \lnot q$，$\lnot p\lor q$ ，显然，如果消解结果可以满足，则消解前的析取式一定也可以满足（因为按析取关系增加了一个可满足文字）。

> 可满足性相同，但是不一定等值。

> 这个定理说明，**如果两个公式都是可满足的，则它们的消解结果一定也是可满足的**。**如果消解结果是可满足的，则消解前的两个公式也一定是可满足的**。

- **定义 2.10**  
  设 $S$ 是一个合取范式，$C_1,C_2,...,C_n$ 是一个简单析取式序列。如果对每一个 $i(1\le i\le n)$ ，$C_i$ 是 $S$ 中的一个简单析取式或者 $C_i$ 是它之前的某两个简单析取式 $C_j,C_k(1\le j < k < i)$ 的消解结果，则称此序列是由 $S$ 导出 $C_n$ 的**消解序列**。当 $C_n=\lambda$ 时，称此序列是 $S$ 的一个**否证**。

> 例如，$p\land \lnot p$ 消解为 $\lambda$ ，即不可满足。

- **定义 2.10 推论**  
  如果合取范式 $S$ 有否证，则 $S$ 不是可满足的。

- **引理 2.9**  
  设 $S$ 含有简单析取式 $l$ ，从 $S$ 中删去所有包含 $l$ 的简单析取式，再从剩下的简单析取式中删去 $l^c$ ，把这样得到的合取范式记作 $S'$ ，则 $S\approx S'$ 。

- **定理 2.10**  
  **消解的完全性**。  
  如果合取范式 $S$ 是不可满足的，则 $S$ 有否证。

- **定理 2.10 推论**  
  合取范式 $S$ 是不可满足的当且仅当它有否证。

> **消解算法**  
> 输入：合式公式 $A$ 。  
> 输出：若 $A$ 是可满足的，则回答“yes”；否则回答“no”。
>
> 1. 求 $A$ 的合取范式 $S$
> 2. 令 $S_0$ 和 $S_2$ 为不含任何元素的集合，$S_1$ 为 $S$ 的所有简单析取式组成的集合
> 3. 对 $S_0$ 中的每一个简单析取式 $C_1$ 与 $S_1$ 中的每一个简单析取式 $C_2$
> 4. $~~$如果 $C_1,C_2$ 可以消解，则
> 5. $~~~~$计算 $C=Res(C_1,C_2)$
> 6. $~~~~$如果 $C=\lambda$ ，则
> 7. $~~~~~~$输出 “no”，计算结束
> 8. $~~~~$如果$S_0$与$S_1$都不包含$C$，则
> 9. $~~~~~~$把 $C$ 加入 $S_2$
> 10. 对 $S_1$ 中的每一对子句 $C_1,C_2$
> 11. $~~$如果 $C_1,C_2$ 可以消解，则
> 12. $~~~~$计算 $C=Res(C_1,C_2)$
> 13. $~~~~$如果 $C=\lambda$，则
> 14. $~~~~~~$输出“no”，计算结束
> 15. $~~~~$如果 $S_0$ 与 $S_1$ 都不包含 $C$，则
> 16. $~~~~~~$把 $C$ 加入 $S_2$
> 17. 如果 $S_2$ 中没有任何元素，则
> 18. $~~$输出“yes”，计算结束
> 19. 否则把 $S_1$ 加入 $S_0$，令 $S_1$ 等于 $S_2$ ，清空 $S_2$，返回 3
